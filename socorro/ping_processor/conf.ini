# the fully qualified classname of the app to run
application=ping_processor_app.PingProcessorApp

[resource]

    #+include ./common_resource.ini

    [[logging]]

        #+include ./common_logging.ini

        # logging level for the logging to stderr (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
        stderr_error_logging_level=30

        # python logging system format for logging to stderr
        #stderr_line_format_string={asctime} {levelname} - {app_name} - {message}

        # logging level for the log file (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
        #syslog_error_logging_level=40

        # syslog facility string ("user", "local0", etc)
        #syslog_facility_string=user

        # syslog hostname
        #syslog_host=localhost

        # python logging system format for syslog entries
        #syslog_line_format_string={app_name} (pid {process}): {asctime} {levelname} - {threadName} - {message}

        # syslog port
        #syslog_port=514

    [[postgresql]]

        #+include ./common_postgresql.ini

        # delays in seconds between retries
        backoff_delays="10, 30, 60, 120, 300"

        # the class of the database
        database_class=socorro.external.postgresql.connection_context.ConnectionContext

        # the hostname of the database
        #database_hostname=localhost

        # the name of the database
        #database_name=breakpad

        # the port for the database
        #database_port=5432

        # a class that will manage transactions
        transaction_executor_class=socorro.database.transaction_executor.TransactionExecutorWithInfiniteBackoff

        # seconds between log during retries
        #wait_log_interval=10

    [[signature]]

        #+include ./common_signature.ini

        # the class that can generate a C signature
        c_signature_tool_class=socorro.processor.signature_utilities.CSignatureTool

        # remove function arguments during normalization
        collapse_arguments=True

        # the class that can generate a Java signature
        java_signature_tool_class=socorro.processor.signature_utilities.JavaSignatureTool

        # the maximum number of frames to consider
        #maximum_frames_to_consider=40

[secrets]

    #+include ./common_secrets.ini

    [[postgresql]]

        #+include ./common_postgresql.ini

        # the user's database password
        #database_password=****************

        # the name of the user within the database
        #database_username=breakpad_rw

[logging]

    # logging level for the logging to stderr (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
    # see "resource.logging.stderr_error_logging_level" for the default or override it here
    #stderr_error_logging_level=10

    # python logging system format for logging to stderr
    # see "resource.logging.stderr_line_format_string" for the default or override it here
    #stderr_line_format_string={asctime} {levelname} - {app_name} - {message}

    # logging level for the log file (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
    # see "resource.logging.syslog_error_logging_level" for the default or override it here
    #syslog_error_logging_level=40

    # syslog facility string ("user", "local0", etc)
    # see "resource.logging.syslog_facility_string" for the default or override it here
    #syslog_facility_string=user

    # syslog hostname
    # see "resource.logging.syslog_host" for the default or override it here
    #syslog_host=localhost

    # python logging system format for syslog entries
    # see "resource.logging.syslog_line_format_string" for the default or override it here
    #syslog_line_format_string={app_name} (pid {process}): {asctime} {levelname} - {threadName} - {message}

    # syslog port
    # see "resource.logging.syslog_port" for the default or override it here
    #syslog_port=514

[ping_processor]

    # the class that transforms raw crashes into processed crashes
    processor_class=socorro.ping_processor.ping_processor.PingProcessorAlgorithm

    # a hierarchy of rules in json form
    rule_sets='[["raw_transform","processor.json_rewrite","socorro.lib.transform_rules.TransformRuleSystem","apply_all_rules","socorro.ping_processor.ping_transform_rules.RawCrashFromPing,socorro.processor.mozilla_transform_rules.ESRVersionRewrite,socorro.processor.mozilla_transform_rules.PluginContentURL,socorro.processor.mozilla_transform_rules.PluginUserComment,socorro.processor.mozilla_transform_rules.FennecBetaError20150430"],["raw_to_processed_transform","processer.raw_to_processed","socorro.lib.transform_rules.TransformRuleSystem","apply_all_rules","socorro.processor.general_transform_rules.IdentifierRule, socorro.ping_processor.ping_transform_rules.SymbolicatePingRule, socorro.processor.mozilla_transform_rules.ProductRule, socorro.processor.mozilla_transform_rules.UserDataRule, socorro.processor.mozilla_transform_rules.EnvironmentRule, socorro.processor.mozilla_transform_rules.PluginRule, socorro.processor.mozilla_transform_rules.AddonsRule, socorro.processor.mozilla_transform_rules.OutOfMemoryBinaryRule, socorro.processor.mozilla_transform_rules.JavaProcessRule, socorro.processor.mozilla_transform_rules.Winsock_LSPRule, "],["processed_transform","processer.processed","socorro.lib.transform_rules.TransformRuleSystem","apply_all_rules","socorro.processor.breakpad_transform_rules.CrashingThreadRule, socorro.processor.general_transform_rules.OSInfoRule, socorro.processor.mozilla_transform_rules.ExploitablityRule, socorro.processor.mozilla_transform_rules.FlashVersionRule, socorro.processor.mozilla_transform_rules.MissingSymbolsRule, socorro.processor.mozilla_transform_rules.ThemePrettyNameRule, socorro.processor.rules.memory_report_extraction.MemoryReportExtraction, socorro.processor.signature_utilities.SignatureGenerationRule,socorro.processor.signature_utilities.StackwalkerErrorSignatureRule, socorro.processor.signature_utilities.OOMSignature, socorro.processor.signature_utilities.AbortSignature, socorro.processor.signature_utilities.SignatureShutdownTimeout, socorro.processor.signature_utilities.SignatureRunWatchDog, socorro.processor.signature_utilities.SignatureIPCChannelError, socorro.processor.signature_utilities.SignatureIPCMessageName, socorro.processor.signature_utilities.SigTrim, socorro.processor.signature_utilities.SigTrunc, "]]'

    [[processed_transform]]

        # the name of the rule set method to run to processes these rules
        action=apply_all_rules

        # should the rules announce what they are doing?
        #chatty_rules=False

        # the fully qualified name of the rule system class
        rule_system_class=socorro.lib.transform_rules.TransformRuleSystem

        # a list of fully qualified class names for the rules
        rules_list='socorro.processor.breakpad_transform_rules.CrashingThreadRule, socorro.processor.general_transform_rules.OSInfoRule, socorro.processor.mozilla_transform_rules.ExploitablityRule, socorro.processor.mozilla_transform_rules.FlashVersionRule, socorro.processor.mozilla_transform_rules.MissingSymbolsRule, socorro.processor.mozilla_transform_rules.ThemePrettyNameRule, socorro.processor.rules.memory_report_extraction.MemoryReportExtraction, socorro.processor.signature_utilities.SignatureGenerationRule,socorro.processor.signature_utilities.StackwalkerErrorSignatureRule, socorro.processor.signature_utilities.OOMSignature, socorro.processor.signature_utilities.AbortSignature, socorro.processor.signature_utilities.SignatureShutdownTimeout, socorro.processor.signature_utilities.SignatureRunWatchDog, socorro.processor.signature_utilities.SignatureIPCChannelError, socorro.processor.signature_utilities.SignatureIPCMessageName, socorro.processor.signature_utilities.SigTrim, socorro.processor.signature_utilities.SigTrunc, '

        # the lookup tag associated with this rule set
        #tag=processer.processed

        [[[AbortSignature]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.AbortSignature

        [[[CrashingThreadRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.breakpad_transform_rules.CrashingThreadRule

        [[[ExploitablityRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.ExploitablityRule

        [[[FlashVersionRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # a regular expression to match Flash file names
            flash_re=NPSWF32_?(.*)\.dll|FlashPlayerPlugin_?(.*)\.exe|libflashplayer(.*)\.(.*)|Flash ?Player-?(.*)

            # A subset of the known "debug identifiers" for flash versions, associated to the version
            #known_flash_identifiers="{"4EDBBD7016E8871A461CCABB7F1B16120": "10.1", "937DDCC422411E58EF6AD13710B0EF190": "10.0.23", "890664D4EF567481ACFD2A21E9D2A2420": "9.0.151.0", "7224164B5918E29AF52365AF3EAF7A500": "10.1.51.66", "0CFAF1611A3C4AA382D26424D609F00B0": "9.0.47.0", "1C8715E734B31A2EACE3B0CFC1CF21EB0": "9.0.159.0", "27CC04C9588E482A948FB5A87E22687B0": "9.0.159.0", "0B03252A5C303973E320CAA6127441F80": "9.0.260.0", "266780DB53C4AAC830AFF69306C5C0300": "10.0.42.34", "77CB5AC61C456B965D0B41361B3F6CEA0": "10.0.22.87", "986682965B43DFA62E0A0DFFD7B7417F0": "10.0.23", "C5B5651B46B7612E118339D19A6E66360": "9.0.45.0", "03D99C42D7475B46D77E64D4D5386D6D0": "9.0.115.0", "83CF4DC03621B778E931FC713889E8F10": "9.0.16.0", "D1AAAB5D417861E6A5B835B01D3039550": "10.0.45.2", "51C00B72112812428EFA8F4A37F683A80": "9.0.124.0", "974873A0A6AD482F8F17A7C55F0A33390": "9.0.262.0", "F43004FFC4944F26AF228334F2CDA80B0": "9.0.151.0", "AE71D92D2812430FA05238C52F7E20310": "9.0.246.0", "BF6B3B51ACB255B38FCD8AA5AEB9F1030": "9.0.28.0", "C4D637F2C8494896FBD4B3EF0319EBAC0": "10.0.42.34", "9FA57B6DC7FF4CFE9A518442325E91CB0": "9.0.115.0", "025105C956638D665850591768FB743D0": "10.0.32.18", "776944FD51654CA2B59AB26A33D8F9B30": "10.0.12.36", "6761F4FA49B5F55833D66CAC0BBF8CB80": "9.0.246.0", "860692A215F054B7B9474B410ABEB5300": "10.0.22.87", "8355DCF076564B6784C517FD0ECCB2F20": "9.0.124.0", "C6CDEFCDB58EFE5C6ECEF0C463C979F80": "10.1.51.66", "B19EE2363941C9582E040B99BB5E237A0": "10.0.32.18", "38AEB67F6A0B43C6A341D7936603E84A0": "10.0.12.36", "B482D3DFD57C23B5754966F42D4CBCB60": "9.0.262.0", "0F3262B5501A34B963E5DF3F0386C9910": "9.0.47.0", "EBD27FDBA9D9B3880550B2446902EC4A0": "10.0.45.2"}"

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.FlashVersionRule

        [[[MemoryReportExtraction]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.rules.memory_report_extraction.MemoryReportExtraction

        [[[MissingSymbolsRule]]]

            # delays in seconds between retries
            # see "resource.postgresql.backoff_delays" for the default or override it here
            backoff_delays="10, 30, 60, 120, 300"

            # should this rule announce what it is doing?
            #chatty=False

            # the class of the database
            # see "resource.postgresql.database_class" for the default or override it here
            database_class=socorro.external.postgresql.connection_context.ConnectionContext

            # the hostname of the database
            # see "resource.postgresql.database_hostname" for the default or override it here
            #database_hostname=localhost

            # the name of the database
            # see "resource.postgresql.database_name" for the default or override it here
            #database_name=breakpad

            # the user's database password
            # see "secrets.postgresql.database_password" for the default or override it here
            #database_password=****************

            # the port for the database
            # see "resource.postgresql.database_port" for the default or override it here
            #database_port=5432

            # the name of the user within the database
            # see "secrets.postgresql.database_username" for the default or override it here
            #database_username=breakpad_rw

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.MissingSymbolsRule

            # a class that will manage transactions
            # see "resource.postgresql.transaction_executor_class" for the default or override it here
            transaction_executor_class=socorro.database.transaction_executor.TransactionExecutorWithInfiniteBackoff

            # seconds between log during retries
            # see "resource.postgresql.wait_log_interval" for the default or override it here
            #wait_log_interval=10

        [[[OOMSignature]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.OOMSignature

        [[[OSInfoRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.general_transform_rules.OSInfoRule

        [[[SigTrim]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SigTrim

        [[[SigTrunc]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SigTrunc

        [[[SignatureGenerationRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SignatureGenerationRule

            [[[[c_signature]]]]

                # the class that can generate a C signature
                # see "resource.signature.c_signature_tool_class" for the default or override it here
                c_signature_tool_class=socorro.processor.signature_utilities.CSignatureTool

                # remove function arguments during normalization
                # see "resource.signature.collapse_arguments" for the default or override it here
                #collapse_arguments=False

                # the maximum number of frames to consider
                # see "resource.signature.maximum_frames_to_consider" for the default or override it here
                #maximum_frames_to_consider=40

            [[[[java_signature]]]]

                # the class that can generate a Java signature
                # see "resource.signature.java_signature_tool_class" for the default or override it here
                java_signature_tool_class=socorro.processor.signature_utilities.JavaSignatureTool

        [[[SignatureIPCChannelError]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SignatureIPCChannelError

        [[[SignatureIPCMessageName]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SignatureIPCMessageName

        [[[SignatureRunWatchDog]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SignatureRunWatchDog

            [[[[c_signature]]]]

                # the class that can generate a C signature
                # see "resource.signature.c_signature_tool_class" for the default or override it here
                c_signature_tool_class=socorro.processor.signature_utilities.CSignatureTool

                # remove function arguments during normalization
                # see "resource.signature.collapse_arguments" for the default or override it here
                #collapse_arguments=False

                # the maximum number of frames to consider
                # see "resource.signature.maximum_frames_to_consider" for the default or override it here
                #maximum_frames_to_consider=40

            [[[[java_signature]]]]

                # the class that can generate a Java signature
                # see "resource.signature.java_signature_tool_class" for the default or override it here
                java_signature_tool_class=socorro.processor.signature_utilities.JavaSignatureTool

        [[[SignatureShutdownTimeout]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.SignatureShutdownTimeout

        [[[StackwalkerErrorSignatureRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.signature_utilities.StackwalkerErrorSignatureRule

        [[[ThemePrettyNameRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.ThemePrettyNameRule

    [[raw_to_processed_transform]]

        # the name of the rule set method to run to processes these rules
        action=apply_all_rules

        # should the rules announce what they are doing?
        #chatty_rules=False

        # the fully qualified name of the rule system class
        rule_system_class=socorro.lib.transform_rules.TransformRuleSystem

        # a list of fully qualified class names for the rules
        rules_list='socorro.processor.general_transform_rules.IdentifierRule, socorro.ping_processor.ping_transform_rules.SymbolicatePingRule, socorro.processor.mozilla_transform_rules.ProductRule, socorro.processor.mozilla_transform_rules.UserDataRule, socorro.processor.mozilla_transform_rules.EnvironmentRule, socorro.processor.mozilla_transform_rules.PluginRule, socorro.processor.mozilla_transform_rules.AddonsRule, socorro.processor.mozilla_transform_rules.OutOfMemoryBinaryRule, socorro.processor.mozilla_transform_rules.JavaProcessRule, socorro.processor.mozilla_transform_rules.Winsock_LSPRule, '

        # the lookup tag associated with this rule set
        #tag=processer.raw_to_processed

        [[[AddonsRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # boolean indictating if information about add-ons should be collected
            #collect_addon=True

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.AddonsRule

        [[[EnvironmentRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.EnvironmentRule

        [[[IdentifierRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.general_transform_rules.IdentifierRule

        [[[JavaProcessRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.JavaProcessRule

        [[[OutOfMemoryBinaryRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # Number of bytes, max, that we accept memory info payloads as JSON.
            #max_size_uncompressed=20971520

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.OutOfMemoryBinaryRule

        [[[PluginRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.PluginRule

        [[[ProductRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.ProductRule

        [[[SymbolicatePingRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.ping_processor.ping_transform_rules.SymbolicatePingRule

            # url of the symbolication server
            symbolication_api_url=http://10.11.12.1:8080/

        [[[UserDataRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.UserDataRule

        [[[Winsock_LSPRule]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.Winsock_LSPRule

    [[raw_transform]]

        # the name of the rule set method to run to processes these rules
        action=apply_all_rules

        # should the rules announce what they are doing?
        #chatty_rules=False

        # the fully qualified name of the rule system class
        rule_system_class=socorro.lib.transform_rules.TransformRuleSystem

        # a list of fully qualified class names for the rules
        rules_list='socorro.ping_processor.ping_transform_rules.RawCrashFromPing,socorro.processor.mozilla_transform_rules.ESRVersionRewrite,socorro.processor.mozilla_transform_rules.PluginContentURL,socorro.processor.mozilla_transform_rules.PluginUserComment,socorro.processor.mozilla_transform_rules.FennecBetaError20150430'

        # the lookup tag associated with this rule set
        #tag=processor.json_rewrite

        [[[ESRVersionRewrite]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.ESRVersionRewrite

        [[[FennecBetaError20150430]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.FennecBetaError20150430

        [[[PluginContentURL]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.PluginContentURL

        [[[PluginUserComment]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.processor.mozilla_transform_rules.PluginUserComment

        [[[RawCrashFromPing]]]

            # should this rule announce what it is doing?
            #chatty=False

            # fully qualified classname
            rule_class=socorro.ping_processor.ping_transform_rules.RawCrashFromPing

